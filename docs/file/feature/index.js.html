<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">feature/index.js | hs-filter</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="A base on js npm pack. Provide more filter methods for your project"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="hs-filter"><meta property="twitter:description" content="A base on js npm pack. Provide more filter methods for your project"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-average">average</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-capitalize">capitalize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-caplitalizeAll">caplitalizeAll</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-compact">compact</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dayofYear">dayofYear</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-decapitalize">decapitalize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-detectDevice">detectDevice</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-digitUppercase">digitUppercase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-distance">distance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-equals">equals</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-escapeHTML">escapeHTML</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getCurrentHour">getCurrentHour</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getDateBetween">getDateBetween</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getType">getType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-intersection">intersection</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-is">is</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isBrowser">isBrowser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-luhnCheck">luhnCheck</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-moment">moment</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-money">money</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-nest">nest</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-putMonth">putMonth</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-putYear">putYear</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ranNumRange">ranNumRange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-randIntArr">randIntArr</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rate">rate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-retard">retard</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-round">round</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sample">sample</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sampleSize">sampleSize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-size">size</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-split">split</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-timeTaken">timeTaken</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">feature/index.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/**
 * &#x5343;&#x5206;&#x4F4D;&#x8FC7;&#x6EE4;&#x5668;
 * @param {string|number} val - &#x8981;&#x8FC7;&#x6EE4;&#x7684;&#x6570;&#x5B57;
 * @return {String} 
 */
export const split = (val) =&gt; {
  if (isNaN(val)) {
    return &apos;--&apos;
  }
  let pattern = /(?=((?!\b)\d{3})+$)/g
  let o = Number(val)
    .toString()
    .split(&apos;.&apos;)
  let z = o[0].replace(pattern, &apos;, &apos;)
  let l = o[1]
  return l ? `${z}.${l}` : `${z}`
}

/**
 * &#x6BD4;&#x4F8B;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x5C06;&#x6570;&#x5B57;&#x8F6C;&#x6362;&#x6210;&#x767E;&#x5206;&#x6BD4;
 * @param {Number} val - &#x5F85;&#x8F6C;&#x6362;&#x6570;&#x5B57;
 * @param {Boolean} type - &#x4E3A;true&#x5C06;&#x5728;&#x5012;&#x6570;&#x7B2C;&#x4E8C;&#x4F4D;&#x6DFB;&#x52A0;&#x5C0F;&#x6570;&#x70B9;
 * @return {String}
 */
export const rate = (val, type) =&gt; {
  return isNaN(val) ? &apos;--&apos; : type ? `${val.slice(0,-2)+&apos;.&apos;+val.slice(-2)}%` : `${Number(val).toFixed(2)}%`
}

/**
 * &#x8D27;&#x5E01;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x5C06;&#x6570;&#x5B57;&#x8F6C;&#x6362;&#x6210;&#x4E2D;&#x6587;&#x8D27;&#x5E01;&#x6837;&#x5F0F;
 * @param {Number} val - &#x5F85;&#x8F6C;&#x6362;&#x6570;&#x5B57;
 * @param {Boolean} type - 1&#x4E3A;&#x53EA;&#x5E26;&#x5343;&#x5206;&#x4F4D;&#x5206;&#x9694;&#x7B26; 2&#x4E3A;&#x53EA;&#x5E26;&#xFFE5;  &#x9ED8;&#x8BA4;,.&#xFFE5;&#x5168;&#x5E26;
 * @return {String} - 
 */
export const money = (val, type) =&gt; {
  if (isNaN(val)) {
    return &apos;--&apos;
  }
  let pattern = /(?=((?!\b)\d{3})+$)/g
  let o
  let z
  o = Number(val)
    .toFixed(2)
    .toString()
    .split(&apos;.&apos;)
  z = o[0].replace(pattern, &apos;,&apos;)
  return type === 1 ? `&#xFFE5;${z}` : type === 2 ? `&#xFFE5;${val}` : `&#xFFE5;${z}.${o[1]}`
}

/**
 * &#x5E73;&#x5747;&#x6570;
 * @param {Number} nums - &#x8981;&#x5224;&#x65AD;&#x7684;&#x591A;&#x4E2A;&#x6570;
 * @return {Number}
 */
export const average = (...nums) =&gt; nums.reduce((acc, val) =&gt; arr + val, 0) / nums.length

/**
 * &#x53BB;&#x9664;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x65E0;&#x6548;/&#x65E0;&#x7528;&#x503C;
 * @param {Array} arr 
 * @return {Array}
 */
export const compact = arr =&gt; arr.filter(Boolean)

/**
 * &#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x6570;&#x7EC4;&#x7684;&#x4EA4;&#x96C6;
 * @param {Array} a
 * @param {Array} b
 * @return {Array}
 */
export const intersection = (a, b) =&gt; {
  const s = new Set(b)
  return a.filter(x =&gt; s.has(x))
}

/**
 * &#x751F;&#x6210;&#x6307;&#x5B9A;&#x8303;&#x56F4;&#x6307;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x968F;&#x673A;&#x6570;&#x7EC4;
 * @param {Number} min - min-value
 * @param {Number} max - max-value
 * @param {Number} n - &#x6570;&#x91CF;
 * @return {Array}
 */
export const randIntArr = (min, max, n = 1) =&gt; Array.from({
    length: n
  },
  () =&gt; Math.floor(Math.random() * (max - min + 1)) + min)

/**
 * &#x4ECE;&#x6307;&#x5B9A;&#x6570;&#x7EC4;&#x4E2D;&#x968F;&#x673A;&#x83B7;&#x53D6;&#x5143;&#x7D20;
 * @param {Array}  arr
 * @return {Number} 
 */
export const sample = arr =&gt; arr[Math.floor(Math.random() * arr.length)]

/**
 * &#x5728;&#x6307;&#x5B9A;&#x6570;&#x7EC4;&#x4E2D;&#x53D6;&#x51FA;&#x6307;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x968F;&#x673A;&#x6570;&#x7EC4;
 * @param {Array} arr 
 * @param {Number} n
 * @return {Array}
 */
export const sampleSize = ([...arr], n = 1) =&gt; {
  let m = arr.length
  while (m) {
    const i = Math.floor(Math.random() * m--);
    [arr[m], arr[i]] = [arr[i], arr[m]]
  }
  return arr.slice(0, n)
}

/**
 * &#x6307;&#x5B9A;&#x7236;&#x5B50;id&#x751F;&#x6210;&#x7236;&#x5B50;&#x5D4C;&#x5957;&#x7ED3;&#x6784;
 * @example
 * const arr = [
 * {id:1,parent_id:0},
 * {id:2,parent_id:1},
 * {id:3,parent_id:2}
 * ]
 * nest(arr,0,&apos;id&apos;,&apos;pid&apos;) =&gt; [{id:1,parent_id:0,children:[{id:2,parent_id:1,children:[{id:3,parent_id:2}]}]}]
 * 
 * @param {Array} arr - &#x6570;&#x7EC4;
 * @param {Number} start_id - &#x8D77;&#x59CB;id
 * @param {String} sid - &#x5B50;id
 * @param {String} pid - &#x7236;id
 * @return {Array}
 * 
 */
export const nest = (arr, start_id, sid, pid) =&gt;
  arr
  .filter(item =&gt; item[pid] === start_id)
  .map(item =&gt; Object.assign({}, item, {
    children: nest(arr, item[sid], sid, pid)
  }))

/**
 * &#x9A8C;&#x8BC1;&#x8BE5;&#x503C;&#x7684;&#x7C7B;&#x578B; 
 * @param {*} v1 - &#x8981;&#x5224;&#x65AD;&#x7684;&#x503C;
 * @param {*} type
 * @return {Boolean} 
 * 
 * @example
 * this.$f(&apos;is&apos;,&apos;1&apos;,String)
 */
export const is = (v1, type) =&gt; v1.constructor === type

/**
 * &#x8BA1;&#x7B97;&#x51FD;&#x6570;&#x7684;&#x6267;&#x884C;&#x65F6;&#x95F4;
 * @param {function():string} callback - &#x8981;&#x5224;&#x65AD;&#x7684;&#x51FD;&#x6570;
 * @return {*} 
 */
export const timeTaken = callback =&gt; {
  console.time(&apos;timeTaken&apos;)
  const r = callback();
  console.timeEnd(&apos;timeTaken&apos;)
  return r
}

/**
 * &#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x9996;&#x5B57;&#x6BCD;&#x5C0F;&#x5199;
 * @param {String} str - &#x8981;&#x8FC7;&#x6EE4;&#x7684;&#x5B57;&#x7B26;&#x4E32; 
 * @return {String}
 */
export const decapitalize = ([first, ...rest]) =&gt; first.toLowerCase() + rest.join(&apos;&apos;)

/**
 * &#x5B57;&#x7B26;&#x4E32;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;
 * @param {String} val - &#x8981;&#x8FC7;&#x6EE4;&#x7684;&#x5B57;&#x7B26;&#x4E32;
 * @param {Boolean} type - true&#x7684;&#x8BDD;&#x4F1A;&#x8BA9;&#x5269;&#x4F59;&#x5B57;&#x6BCD;&#x4E5F;&#x6210;&#x5C0F;&#x5199;
 * @return {String}
 * 
 * @example
 * capitalize(&apos;fooBar&apos;,[true])
 */
export const capitalize = ([first, ...rest], type) =&gt; first.toUpperCase() + (type ? rest.join(&apos;&apos;).toLowerCase() : rest.join(&apos;&apos;))

/**
 * &#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;
 * @param {String} str - &#x8981;&#x8FC7;&#x6EE4;&#x7684;&#x5B57;&#x7B26;&#x4E32;
 * @param {Boolean} type - true &#x5219; &apos;fooBar ass&apos; =&gt; &apos;Foobar Ass&apos;
 * @return {String} 
 */
export const caplitalizeAll = (str, type) =&gt; {
  let s = str.replace(/\b[a-z]/g, char =&gt; char.toUpperCase())
  return type ? s.replace(/\B[a-z]/gi, char =&gt; char.toLowerCase()) : s
}

/**
 * &#x94F6;&#x884C;&#x5361;&#x53F7;&#x6821;&#x9A8C; Luhn&#x7B97;&#x6CD5;
 * @param {Number} num - &#x8981;&#x6821;&#x9A8C;&#x7684;&#x6570;&#x5B57;
 */
export const luhnCheck = num =&gt; {
  let arr = (num + &apos;&apos;)
    .split(&apos;&apos;)
    .reverse()
    .map(x =&gt; parseInt(x));
  let lastDigit = arr.splice(0, 1)[0]
  let sum = arr.reduce((acc, val, i) =&gt; (i % 2 !== 0 ? acc + val : acc + ((val * 2) % 9) || 9), 0)
  sum += lastDigit
  return sum % 10 === 0
}

/**
 * &#x83B7;&#x5F97;&#x5F53;&#x524D;&#x65E5;&#x671F;&#x5929;&#x6570;
 * @param {Date} date - new Date()
 * @return {Number}
 * 
 * @example
 * this.$f(&apos;dayofYear&apos;, new Date())
 * {{ val | dayofYear(new Date)}}
 */
export const dayofYear = date =&gt; Math.floor(((date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24))

/**
 * &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x7684;&#x65F6;&#x5206;&#x79D2;&#xFF08;24&#x5C0F;&#x65F6;&#x5236;&#xFF09;
 * @param {Date} date - new Date() 
 * @return {String}
 * 
 * @example
 * this.$f(&apos;getCurrentHour&apos;, new Date())
 * {{ val | getCurrentHour(new Date)}}
 */
export const getCurrentHour = date =&gt; date.toTimeString().slice(0, 8)

/**
 * &#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x65E5;&#x671F;&#x95F4;&#x7684;&#x5929;&#x6570;
 * @param {date} v1 - new Date(&apos;2019-10-14&apos;)
 * @param {date} v2 - new Date(&apos;2020-11-12&apos;)
 * @return {Number}
 */
export const getDateBetween = (v1, v2) =&gt; (v1 - v2) / (1000 * 3600 * 24)

/**
 * &#x6DF1;&#x5EA6;&#x5224;&#x65AD;&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x5168;&#x7B49;
 *@param {*} a - &#x5F85;&#x5224;&#x65AD;&#x53D8;&#x91CF;
 *@param {*} b - &#x5F85;&#x5224;&#x65AD;&#x53D8;&#x91CF;
 *@return {Boolean}
 */
export const equals = (a, b) =&gt; {
  if (a === b) return true
  if (a instanceof Date &amp;&amp; b instanceof Date) return a.getTime() === b.getTime()
  if (!a || !b || (typeof a !== &apos;object&apos; &amp;&amp; typeof b !== &apos;object&apos;)) return a === b
  if (a.prototype !== b.prototype) return false
  let keys = Object.keys(a)
  if (keys.length !== Object.keys(b).length) return false
  if (keys.length === 0) return Object.keys(b).length === 0 &amp;&amp; a.constructor.name === b.constructor.name
  return keys.every(k =&gt; equals(a[k], b[k]))
}

/**
 * &#x8FD4;&#x56DE;&#x503C;&#x6216;&#x53D8;&#x91CF;&#x7684;&#x7C7B;&#x578B;&#x540D;
 * @param {*} v
 * @return {String}
 */
export const getType = v =&gt;
  v === undefined ? &apos;undefined&apos; : v === null ? &apos;null&apos; : v.constructor.name.toLowerCase()

/**
 * &#x751F;&#x6210;&#x6307;&#x5B9A;&#x8303;&#x56F4;&#x7684;&#x968F;&#x673A;&#x6574;&#x6570;
 * @param {Number} min - &#x6700;&#x5C0F;&#x6570;
 * @param {Number} max - &#x6700;&#x5927;&#x6570;
 * @return {Number}
 */
export const ranNumRange = (min, max) =&gt; Math.floor(Math.random() * (max - min) + min)

/**
 * &#x56DB;&#x820D;&#x4E94;&#x5165;&#x6307;&#x5B9A;&#x7684;&#x5C0F;&#x6570;&#x4F4D;&#x6570;
 * @param {Number} n - &#x5E26;&#x6709;&#x5C0F;&#x6570;&#x7684;&#x6570;&#x5B57;
 * @param {Number} [decimals=0] - &#x6307;&#x5B9A;&#x7684;&#x5C0F;&#x6570;&#x4F4D;&#x6570;
 * @return {Number}
 */
export const round = (n, decimals = 0) =&gt; Number(`${Math.round(`${n}e${decimals}`)}e-${decimals}`)

/**
 * &#x8BA1;&#x7B97;&#x4EFB;&#x610F;&#x4E24;&#x70B9;&#x4E4B;&#x95F4;&#x7684;&#x8DDD;&#x79BB;
 * @param {Number} x0 - &#x8D77;&#x59CB;&#x70B9;&#x7684;x&#x8F74;&#x7684;&#x6570;&#x503C;
 * @param {Number} y0 - &#x8D77;&#x59CB;&#x70B9;&#x7684;y&#x8F74;&#x7684;&#x6570;&#x503C;
 * @param {Number} x1 - &#x7ED3;&#x675F;&#x70B9;&#x7684;x&#x8F74;&#x7684;&#x6570;&#x503C;
 * @param {Number} y1 - &#x7ED3;&#x675F;&#x70B9;&#x7684;y&#x8F74;&#x7684;&#x6570;&#x503C;
 * @return {Number}
 */
export const distance = (x0, y0, x1, y1) =&gt; Math.hypot(x1 - x0, y1 - y0)

/**
 * &#x68C0;&#x67E5;&#x662F;&#x5426;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x73AF;&#x5883;
 * @return {Boolean}
 */
export const isBrowser = () =&gt; ![typeof window, typeof document].includes(&apos;undefined&apos;)

/**
 * &#x7ED9;&#x56DE;&#x5230;&#x9876;&#x90E8;&#x529F;&#x80FD;&#x4E00;&#x4E2A;&#x51CF;&#x7F13;&#x6548;&#x679C;
 * @param {Number} [v1=30] - &#x901F;&#x5EA6;&#x63A7;&#x5236;,&#x8D8A;&#x5C0F;&#x901F;&#x5EA6;&#x8D8A;&#x5FEB;&#xFF08;&#x56DE;&#x6EDA;&#x6BCF;&#x6BB5;&#x8DDD;&#x79BB;&#x7684;&#x65F6;&#x95F4;&#xFF09;
 * @param {Number} [v2=6] - &#x901F;&#x5EA6;&#x63A7;&#x5236;,&#x8D8A;&#x5927;&#x901F;&#x5EA6;&#x8D8A;&#x5FEB;&#xFF08;&#x6BCF;&#x6BB5;&#x65F6;&#x95F4;&#x56DE;&#x6EDA;&#x7684;&#x8DDD;&#x79BB;&#xFF09;
 * @param {Number} [scrollElement=document.documentElement || document.body] - &#x8981;&#x64CD;&#x4F5C;&#x7684;&#x5143;&#x7D20;
 */
export const retard = (v1 = 30, v2 = 6, scrollElement) =&gt; {
  let goTopTimer = setInterval(() =&gt; {
    var scrollTop = scrollElement.scrollTop || document.documentElement.scrollTop || document.body.scrollTop;
    var speed = Math.floor(-scrollTop / v2);
    if (scrollElement) {
      scrollElement.scrollTop = scrollTop + speed;
    } else {
      document.documentElement.scrollTop = document.body.scrollTop = scrollTop + speed;
    }
    if (scrollTop == 0) {
      clearInterval(goTopTimer)
    }
  }, v1)
}

/**
 * &#x68C0;&#x6D4B;&#x79FB;&#x52A8;/PC&#x8BBE;&#x5907;
 * @return {String} [&apos;Mobile&apos;,&apos;Desktop&apos;]
 */
export const detectDevice = () =&gt;
  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ?
  &apos;Mobile&apos; :
  &apos;Desktop&apos;

/**
 * &#x83B7;&#x53D6;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x53D8;&#x91CF;&#x7684;&#x957F;&#x5EA6;
 * @param {*} val - &#x5E26;&#x6D4B;&#x91CF;&#x7684;&#x53D8;&#x91CF;
 * @return {Number}
 */
export const size = val =&gt;
  Array.isArray(val) ?
  val.length :
  val &amp;&amp; typeof val === &apos;object&apos; ?
  val.size || val.length || Object.keys(val).length :
  typeof val === &apos;string&apos; ?
  new Blob([val]).size :
  0;

/**
 * HTML&#x8F6C;&#x4E49;&#xFF0C;&#x9884;&#x9632;XSS&#x653B;&#x51FB;
 * @param {String} str - &#x9700;&#x8F6C;&#x4E49;&#x7684;html&#x5B57;&#x7B26;&#x4E32;
 * @return {String}
 */
export const escapeHTML = str =&gt;
  str.replace(
    /[&amp;&lt;&gt;&apos;&quot;]/g,
    tag =&gt;
    ({
      &apos;&amp;&apos;: &apos;&amp;amp;&apos;,
      &apos;&lt;&apos;: &apos;&amp;lt;&apos;,
      &apos;&gt;&apos;: &apos;&amp;gt;&apos;,
      &quot;&apos;&quot;: &apos;&amp;#39;&apos;,
      &apos;&quot;&apos;: &apos;&amp;quot;&apos;
    } [tag] || tag)
  )

/**
 * &#x6570;&#x5B57;&#x8F6C;&#x6362;&#x4E3A;&#x4E2D;&#x6587;&#x5927;&#x5199;
 * @param {Number} val - &#x6574;&#x6570;&#x90E8;&#x5206;&#x652F;&#x6301;76&#x4F4D;&#x6570;&#xFF0C;&#x5C0F;&#x6570;&#x90E8;&#x5206;&#x8F6C;&#x6362;&#x4EBA;&#x6C11;&#x5E01;&#x5927;&#x5199;&#x652F;&#x6301;4&#x4F4D;&#x6570;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x8FD4;&#x56DE;*
 * @param {String} type - &apos;money&apos; &#x8F6C;&#x5316;&#x6210;&#x4EBA;&#x6C11;&#x5E01;&#x5927;&#x5199;
 * @return {String}
 */
export const digitUppercase = (val, type) =&gt; {
  if (val != 0 &amp;&amp; isNaN(val) || val === null || val === &apos;&apos;) return
  let samplePlate = [&apos;&#x96F6;&apos;, &apos;&#x58F9;&apos;, &apos;&#x8D30;&apos;, &apos;&#x53C1;&apos;, &apos;&#x8086;&apos;, &apos;&#x4F0D;&apos;, &apos;&#x9646;&apos;, &apos;&#x67D2;&apos;, &apos;&#x634C;&apos;, &apos;&#x7396;&apos;]
  let unit = [&apos;&apos;, &apos;&#x62FE;&apos;, &apos;&#x4F70;&apos;, &apos;&#x4EDF;&apos;, &apos;&#x4E07;&apos;]
  let units = [&apos;&apos;, &apos;&#x4E07;&apos;, &apos;&#x4EBF;&apos;, &apos;&#x5146;&apos;, &apos;&#x4EAC;&apos;, &apos;&#x5793;&apos;, &apos;&#x79ED;&apos;, &apos;&#x7A70;&apos;, &apos;&#x6C9F;&apos;, &apos;&#x6DA7;&apos;, &apos;&#x6B63;&apos;, &apos;&#x8F7D;&apos;, &apos;&#x6781;&apos;, &apos;&#x6052;&#x6CB3;&#x6C99;&apos;, &apos;&#x963F;&#x50E7;&#x7957;&apos;, &apos;&#x90A3;&#x7531;&#x4ED6;&apos;, &apos;&#x4E0D;&#x53EF;&#x601D;&#x8BAE;&apos;, &apos;&#x65E0;&#x91CF;&apos;, &apos;&#x5927;&#x6570;&apos;]
  let moneyUnit = [&apos;&#x89D2;&apos;, &apos;&#x5206;&apos;, &apos;&#x5398;&apos;, &apos;&#x6BEB;&apos;]
  let all = (val.trim() + &apos;&apos;).replace(/^0*/, &apos;&apos;).split(&apos;.&apos;)
  let integer = all[0].replace(/(?=((?!\b)\d{4})+$)/g, &apos;,&apos;)
  let integerArr = integer.split(&apos;,&apos;) // [123,4567,8910]
  integerArr.forEach((current, i, array) =&gt; {
    array[i] = current.split(&apos;&apos;).reverse().map((curr, j, arr) =&gt; {
      arr[j] = samplePlate[curr]
      if (arr[j] !== &apos;&#x96F6;&apos;) arr[j] += unit[j]
      return arr[j]
    }).reverse().join(&apos;&apos;)
    let reg = /&#x96F6;*$/g
    array[i] = array[i].replace(reg, &apos;&apos;)
    let reg1 = /&#x96F6;+/g
    array[i] = array[i].replace(reg1, &apos;&#x96F6;&apos;)
    array[i] = array[i] + (units[array.length - 1 - i] === undefined ? &apos;*&apos; : units[array.length - 1 - i])
  })
  let decimals = all[1] ? all[1].split(&apos;&apos;).map((ite, i, arr) =&gt; {
    arr[i] = samplePlate[ite] + (type === &apos;money&apos; ? moneyUnit[i] || &apos;*&apos; : &apos;&apos;)
    return arr[i]
  }).join(&apos;&apos;) : &apos;&apos;
  return integerArr.join(&apos;&apos;) + (type === &apos;money&apos; ? &apos;&#x5143;&apos; : &apos;&apos;) + (type === &apos;money&apos; ? (decimals || &apos;&#x6574;&apos;) : decimals ? &apos;&#x70B9;&apos; + decimals : &apos;&apos;)
}

/**
 * &#x7528;&#x6765;&#x683C;&#x5F0F;&#x5316;&#x65E5;&#x671F;,&#x9700;&#x8981;&#x5F15;&#x5165;moment&#x5E93;,npm i moment
 * @param {string|number} val - &#x8981;&#x683C;&#x5F0F;&#x5316;&#x7684;&#x65F6;&#x95F4;
 * @see http://momentjs.cn/
 * @param {String} type - &#x8981;&#x8F6C;&#x53D8;&#x6210;&#x7684;&#x683C;&#x5F0F;
 * @return {String}
 */
export const moment = (val, type) =&gt; {
  return val ? (type ? moment(val).format(type) : moment(val).format()) : &apos;--&apos;
}

/**
 * &#x65F6;&#x95F4;&#x63D2;&#x4EF6;&#x589E;&#x52A0;&#x53BB;&#x5E74;&#x548C;&#x4ECA;&#x5E74;
 * @return {Object}
 */
export const putYear = (type) =&gt; {
  let mDate, data
  type === 1 ?
    (data = [
      moment()
      .subtract(1, &apos;years&apos;)
      .startOf(&apos;years&apos;),
      moment()
      .subtract(1, &apos;years&apos;)
      .endOf(&apos;years&apos;)
    ]) :
    (data = [moment().startOf(&apos;years&apos;), moment().endOf(&apos;years&apos;)])
  mDate = {
    text: type === 1 ? &apos;&#x53BB;&#x5E74;&apos; : &apos;&#x4ECA;&#x5E74;&apos;,
    onClick(picker) {
      picker.$emit(&apos;pick&apos;, data)
    }
  }
  return mDate
}

/**
 * &#x65F6;&#x95F4;&#x63D2;&#x4EF6;&#x589E;&#x52A0;&#x6700;&#x540E;&#x4E0A;&#x4E2A;&#x6708;&#x548C;&#x9019;&#x500B;&#x6708;
 * @return {Object}
 */
export const putMonth = (type) =&gt; {
  let mDate, data
  type === 1 ?
    (data = [
      moment()
      .subtract(1, &apos;month&apos;)
      .startOf(&apos;month&apos;),
      moment()
      .subtract(1, &apos;month&apos;)
      .endOf(&apos;month&apos;)
    ]) :
    (data = [moment().startOf(&apos;month&apos;), moment().endOf(&apos;month&apos;)])
  mDate = {
    text: type === 1 ? &apos;&#x4E0A;&#x4E2A;&#x6708;&apos; : &apos;&#x672C;&#x6708;&apos;,
    onClick(picker) {
      picker.$emit(&apos;pick&apos;, data)
    }
  }
  return mDate
}</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
